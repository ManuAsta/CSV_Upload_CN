
<link rel="stylesheet" href="/css/csv.css">
<div id="csv-file-container">
    <h2><%=title%></h2>
    <div id="search-sort" class="d-flex justify-content-between align-items-center">
        <!--serach bar-->
        <div class="input-group input-group-lg">
            <input type="text" class="form-control" placeholder="Search Data...." aria-label="Sizing example input" id="search" aria-describedby="inputGroup-sizing-lg">
        </div>
        <div class="d-flex align-items-center justify-content-between"  style="width:20%;">
            <button class="page-btn" id="previous">
                <img src="/images/back.png" width="30px" alt="back">
            </button>
            <h6>Showing <span id="entries"> 0-50 /[200]</span> Entries</h6>
            <button class="page-btn" id="next">
                <img src="/images/next.png" width="30px" alt="back">
            </button>
        </div>
        <!--pagination-->
        <div class="btn-group">
            <button class="btn btn-dark btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              Show Entries
            </button>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item pagination-btn" href="#"  value="10">10</a></li>
              <li><a class="dropdown-item pagination-btn" href="#" value="25">25</a></li>
              <li><a class="dropdown-item pagination-btn" href="#" value="50">50</a></li>
              <li><a class="dropdown-item pagination-btn" href="#" value="100">100</a></li>
            </ul>
        </div>
    </div>
    <div id="table-container" data-array="<%=JSON.stringify(data)%>" data-headings="<%=JSON.stringify(headings)%>"> 
        <%if(locals.data.length>0){%>
            <!--implementing the search and pagination-->
            <table border="2" class="table table-bordered border-dark">
                <thead>
                   <%for(heading of locals.headings){%>
                        <th><%=heading%>
                            <button class="sort-button" data-sort="<%=heading%>">
                                <img src="/images/sort.png" alt="sort" width="20px">
                            </button>
                        </th>
                   <%}%>
                </thead>
                <tbody id="table-body">
                    <%for(item of locals.data){%>
                        <tr>
                            <%for(heading of locals.headings){%>
                                <td><%=item[heading]%></td>
                           <%}%>
                        </tr>
                    <%}%>
                </tbody>
                <tfoot>
        
                </tfoot>
            </table>
        
        <%}else{%>
            <h1>No Entries in this File!</h1>
        <%}%>
    </div>    
</div>

<script src="/js/csv.js" type="text/javascript"></script>